![Kent C. Dodds ğŸ”­ on Twitter: "ğŸ™ Introducing: dom-testing-library It's the  core of react-testing-library without react. All you good @vuejs, @angular,  @emberjs, @polymer, etc. folks can use this to build your own *-](assets/DaGo_txU8AEE8SN.jpg)

## Variants

`getBy *`

æŸ¥è¯¢è¿”å›æŸ¥è¯¢çš„ç¬¬ä¸€ä¸ªåŒ¹é…èŠ‚ç‚¹ï¼Œå¦‚æœæ²¡æœ‰å…ƒç´ åŒ¹é…æˆ–æ‰¾åˆ°å¤šä¸ªåŒ¹é…é¡¹ï¼Œåˆ™æŠ›å‡ºé”™è¯¯ã€‚

`getAllBy *`

æŸ¥è¯¢è¿”å›æŸ¥è¯¢çš„æ‰€æœ‰åŒ¹é…èŠ‚ç‚¹çš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰å…ƒç´ åŒ¹é…ï¼Œåˆ™å¼•å‘é”™è¯¯ã€‚

`queryBy *`

æŸ¥è¯¢è¿”å›æŸ¥è¯¢çš„ç¬¬ä¸€ä¸ªåŒ¹é…èŠ‚ç‚¹ï¼Œå¦‚æœæ²¡æœ‰å…ƒç´ åŒ¹é…ï¼Œåˆ™è¿”å›nullã€‚ è¿™å¯¹äºæ–­è¨€ä¸å­˜åœ¨çš„å…ƒç´ å¾ˆæœ‰ç”¨ã€‚ å¦‚æœæ‰¾åˆ°å¤šä¸ªåŒ¹é…é¡¹ï¼Œåˆ™æŠ›å‡ºè¯¥å¼‚å¸¸ã€‚

`queryAllBy *`

æŸ¥è¯¢è¿”å›ä¸€ä¸ªæŸ¥è¯¢çš„æ‰€æœ‰åŒ¹é…èŠ‚ç‚¹çš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰å…ƒç´ åŒ¹é…ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæ•°ç»„ï¼ˆ[]ï¼‰ã€‚

`findBy *`

æŸ¥è¯¢è¿”å›ä¸€ä¸ª`promise`ï¼Œè¯¥`promise`åœ¨æ‰¾åˆ°ä¸ç»™å®šæŸ¥è¯¢åŒ¹é…çš„å…ƒç´ æ—¶è§£æã€‚ å¦‚æœæœªæ‰¾åˆ°ä»»ä½•å…ƒç´ ï¼Œæˆ–è€…åœ¨é»˜è®¤çš„1000msè¶…æ—¶åæ‰¾åˆ°ä¸€ä¸ªä»¥ä¸Šçš„å…ƒç´ ï¼Œåˆ™`promise`è§¦å‘`reject`å›è°ƒã€‚

## TextMatcher

ä¸€äº›`api`æ¥å—`TextMatch`ï¼Œå®ƒå¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€`regex`æˆ–å‡½æ•°ï¼Œå¦‚æœåŒ¹é…å°±è¿”å›`true`ï¼Œå¦‚æœä¸åŒ¹é…å°±è¿”å›`false`ã€‚

#### Precision

ä¸€äº›apiæ¥å—ä¸€ä¸ªå¯¹è±¡ä½œä¸ºæœ€åçš„å‚æ•°ï¼Œå®ƒå¯ä»¥åŒ…å«å½±å“å­—ç¬¦ä¸²åŒ¹é…ç²¾åº¦çš„é€‰é¡¹:

- `exact`ï¼šé»˜è®¤ä¸º`true`ï¼ŒåŒ¹é…å®Œæ•´å­—ç¬¦ä¸²ï¼ŒåŒºåˆ†å¤§å°å†™ã€‚å½“ä¸ºfalseæ—¶ï¼ŒåŒ¹é…å­å­—ç¬¦ä¸²å¹¶ä¸”ä¸åŒºåˆ†å¤§å°å†™ã€‚
  - ç²¾ç¡®å¯¹æ­£åˆ™è¡¨è¾¾å¼æˆ–å‡½æ•°å‚æ•°æ²¡æœ‰å½±å“ã€‚
  - åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è€Œä¸æ˜¯å­—ç¬¦ä¸²å¯ä»¥æ›´å¥½åœ°æ§åˆ¶æ¨¡ç³ŠåŒ¹é…ï¼Œåº”è¯¥æ¯”`{exact: false}`æ›´å¥½ã€‚

## Queries

è¿™äº›æŸ¥è¯¢æ˜¯åŸºæœ¬æŸ¥è¯¢ï¼Œéœ€è¦ä¼ é€’ä¸€ä¸ªå®¹å™¨ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚å¤§å¤šæ•°æµ‹è¯•åº“çš„æ¡†æ¶å®ç°åœ¨ä½¿ç”¨ç»„ä»¶å‘ˆç°æ—¶éƒ½æä¾›äº†è¿™äº›æŸ¥è¯¢çš„é¢„ç»‘å®šç‰ˆæœ¬ï¼Œè¿™æ„å‘³ç€ä¸å¿…æä¾›å®¹å™¨ã€‚

#### `ByPlaceholderText`

è¿™å°†æœç´¢æ‰€æœ‰å…·æœ‰`placeholder`å±æ€§çš„å…ƒç´ ï¼Œå¹¶æ‰¾åˆ°ä¸ç»™å®š`TextMatcher`åŒ¹é…çš„å…ƒç´ ã€‚

```ts
getByPlaceholderText(
  container: HTMLElement, // if you're using `screen`, then skip this argument
  text: TextMatch,
  options?: {
    exact?: boolean = true,
    normalizer?: NormalizerFn,
  }): HTMLElement
```

åŒ¹é…å…ƒç´ ï¼š

```html
<input placeholder="Username" />
```

#### `ByText`

è¿™å°†æœç´¢å…·æœ‰å…·æœ‰ä¸ç»™å®šæ–‡æœ¬å†…å®¹åŒ¹é…çš„æ–‡æœ¬èŠ‚ç‚¹çš„æ‰€æœ‰å…ƒç´ (åŒ…æ‹¬æ ‡ç­¾ä»¥åŠæ ‡ç­¾ä¸­çš„å±æ€§)ã€‚

```jsx
getByText(
  container: HTMLElement, // if you're using `screen`, then skip this argument
  text: TextMatch,
  options?: {
    selector?: string = '*',
    exact?: boolean = true,
    ignore?: string|boolean = 'script, style',
    normalizer?: NormalizerFn,
  }): HTMLElement
```

åŒ¹é…å…ƒç´ ï¼š

```jsx
<a href="/about">About â„¹ï¸</a>
```

#### `ByAltText`

```ts
getByAltText(
  container: HTMLElement, // if you're using `screen`, then skip this argument
  text: TextMatch,
  options?: {
    exact?: boolean = true,
    normalizer?: NormalizerFn,
  }): HTMLElement
```

è¿”å›å…·æœ‰ç»™å®šaltæ–‡æœ¬çš„å…ƒç´ (é€šå¸¸ä¸º<img>)ã€‚æ³¨æ„ï¼Œå®ƒåªæ”¯æŒæ¥å—altå±æ€§çš„å…ƒç´ :<img>ã€<input>å’Œ<area>

```html
<img alt="Incredibles 2 Poster" src="/incredibles-2.png" />
```

## fireEvent

```typescript
fireEvent(node: HTMLElement, event: Event)
```

è§¦å‘DOMäº‹ä»¶

```javascript
// <button>Submit</button>
fireEvent(
  getByText(container, 'Submit'),
  new MouseEvent('click', {
    bubbles: true,
    cancelable: true,
  })
)
```

## fireEvent[eventName]

```typescript
fireEvent[eventName](node: HTMLElement, eventProperties: Object)
```

è§¦å‘DOMäº‹ä»¶çš„ä¾¿åˆ©æ–¹æ³•

```javascript
// <button>Submit</button>
const rightClick = { button: 2 }
fireEvent.click(getByText('Submit'), rightClick)
// default `button` property for click events is set to `0` which is a left click.
```

**target**:å½“æœ‰äº‹ä»¶æ´¾å‘åˆ°ä¸€ä¸ªå…ƒç´ ä¸Šçš„æ—¶å€™ï¼Œäº‹ä»¶å¯¹è±¡ä¼šæœ‰ä¸€ä¸ªå­å±æ€§`target`æŒ‡å‘å…ƒç´ æœ¬èº«ï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®`target`å±æ€§æ¥è‡ªå®šä¹‰ã€‚

```javascript
fireEvent.change(getByLabelText(/username/i), { target: { value: 'a' } })

// note: attempting to manually set the files property of an HTMLInputElement
// results in an error as the files property is read-only.
// this feature works around that by using Object.defineProperty.
fireEvent.change(getByLabelText(/picture/i), {
  target: {
    files: [new File(['(âŒâ–¡_â–¡)'], 'chucknorris.png', { type: 'image/png' })],
  },
})

Copy
```

**dataTransfer**:æ‹–åŠ¨äº‹ä»¶æœ‰ä¸€ä¸ªdataTransferå±æ€§ï¼Œè¯¥å±æ€§åŒ…å«åœ¨æ“ä½œæœŸé—´ä¼ è¾“çš„æ•°æ®ã€‚ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œå¦‚æœåœ¨eventProperties(ç¬¬äºŒä¸ªå‚æ•°)ä¸­æä¾›äº†dataTransferå±æ€§ï¼Œé‚£ä¹ˆè¿™äº›å±æ€§å°†è¢«æ·»åŠ åˆ°äº‹ä»¶ä¸­ã€‚

```javascript
fireEvent.drop(getByLabelText(/drop files here/i), {
  dataTransfer: {
    files: [new File(['(âŒâ–¡_â–¡)'], 'chucknorris.png', { type: 'image/png' })],
  },
})

Copy
```

**Keyboard events**: ä¸€å…±æœ‰æœ‰ä¸‰ç§ä¸é”®ç›˜è¾“å…¥ç›¸å…³çš„äº‹ä»¶ç±»å‹â€”keyPress, keyDownå’ŒkeyUpã€‚åœ¨è§¦å‘å®ƒä»¬æ—¶ï¼Œéœ€è¦å¼•ç”¨DOMä¸­çš„å…ƒç´ å’Œè¦è§¦å‘çš„é”®ã€‚

```javascript
fireEvent.keyDown(domNode, { key: 'Enter', code: 'Enter' })

fireEvent.keyDown(domNode, { key: 'A', code: 'KeyA' })
```
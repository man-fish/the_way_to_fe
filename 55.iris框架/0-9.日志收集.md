> å¥½çš„æ—¥å¿—è®°å½•ï¼Œæœ‰åŠ©äºå¼€å‘å·¥ä½œã€‚æœ¬èŠ‚å±•ç¤ºåœ¨ Iris æ¡†æ¶ä¸­ å¦‚ä½•å†™å…¥æ—¥å¿—æ–‡ä»¶ã€‚

## åˆå§‹åŒ–ğŸ§

```go
func main() {
	app := iris.New()
	customLogger := logger.New(logger.Config{
		//çŠ¶æ€æ˜¾ç¤ºçŠ¶æ€ä»£ç 
		Status: true,
		// IPæ˜¾ç¤ºè¯·æ±‚çš„è¿œç¨‹åœ°å€
		IP: true,
		//æ–¹æ³•æ˜¾ç¤ºhttpæ–¹æ³•
		Method: true,
		// Pathæ˜¾ç¤ºè¯·æ±‚è·¯å¾„
		Path: true,
		// Queryå°†urlæŸ¥è¯¢é™„åŠ åˆ°Pathã€‚
		Query: true,
        // Columnæ˜¯å¦åˆ†åˆ—æ˜¾ç¤º(æ›´æ¸…æ™°)
        Columnsï¼štrueï¼Œ
		//å¦‚æœä¸ä¸ºç©ºç„¶åå®ƒçš„å†…å®¹æ¥è‡ª`ctx.GetHeaderï¼ˆâ€œUser-Agentâ€ï¼‰
		MessageHeaderKeys: []string{"User-Agent"},
	})
    
	app.Use(customLogger)
	err := app.Run(iris.Addr(":8080"),iris.WithoutServerError())
}
```

æ•ˆæœ

```cmd
>"normal
Now listening on: http://localhost:8080
Application started. Press CTRL+C to shut down.
[INFO] 2020/01/07 13:51 200   0s ::1 GET /ping Mozilla/5.0 ......
[ERRO] 2020/01/07 13:57 http: Server closed
>"column
Now listening on: http://localhost:8080
Application started. Press CTRL+C to shut down.
Time                   Status  Latency  IP   Method  Path   HeaderMessage
2020/01/07 - 13:57:45  200     0s       ::1  GET     /ping  Mozilla/5.0......
```

## ä½¿ç”¨ğŸ“¸

æ¯ä¸€æ¬¡è¯·æ±‚æ¥å£éƒ½ä¼šè‡ªåŠ¨è®°å½•ä¸€æ¡æ—¥å¿—ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨`ctx.Application().Logger()`æ‰‹åŠ¨è®°å½•ä¸€æ¡æ—¥å¿—ã€‚

```go
app.Get("/ping", func(ctx iris.Context) {
    ctx.Application().Logger().Infof("Request Url:%s",ctx.Path())
    ctx.WriteString("pong")
})
```

## å†™å…¥æ–‡ä»¶ğŸ³

`SetOutput`æ–¹æ³•æ¥å—ä¸€ä¸ª`writer`æ¥å£æˆ‘ä»¬å¯ä»¥å°†æ—¥å¿—å†™å…¥ä»»ä½•åœ°æ–¹ã€‚

```go
func todayFile() string {
	return "./logfiles/log_" + time.Now().Format("2006-01-02") + ".txt"
}

func NewLogfile() *os.File {
	filename := todayFile()
	f,err := os.OpenFile(filename,os.O_CREATE|os.O_WRONLY|os.O_APPEND,0666)
	if err != nil {
		panic(err)
	}
	return f
}

func main() {
	f := NewLogfile()
	defer f.Close()

    app := iris.New()
    app.Use(Logger.New())
	app.Logger().SetOutput(f)

	app.Get("/ping", func(ctx iris.Context) {
		ctx.Application().Logger().Infof("Request Url:%s",ctx.Path())
		ctx.WriteString("pong")
	})
	err := app.Run(iris.Addr(":8080"),iris.WithoutServerError())
}
```

![image-20200107140715546](F:\æˆ‘çš„ç¬”è®°\55.irisæ¡†æ¶\assets\image-20200107140715546.png)
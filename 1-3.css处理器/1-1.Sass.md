# Sass

`Sass` 是一款强化 `CSS` 的辅助工具，它在` CSS` 语法的基础上增加了变量` (variables)`、嵌套` (nested rules)`、混合` (mixins)`、导入` (inline imports)` 等高级功能，这些拓展令 CSS 更加强大与优雅。

## 语法格式 (Syntax)

`Sass` 有两种语法格式。首先是 `SCSS (Sassy CSS)`，这种格式仅在 `CSS3` 语法的基础上进行拓展，所有 `CSS3` 语法在 `SCSS` 中都是通用的，同时加入 `Sass` 的特色功能，这种格式以 `.scss` 作为拓展名。

另一种被称为缩进格式` (Indented Sass) `通常简称 `"Sass"`，是一种简化格式。它使用 "缩进" 代替 "花括号"，用 "换行" 代替 "分号" 分隔属性，很多人认为这样做比 `SCSS `更容易阅读，书写也更快速，这种格式以 `.sass` 作为拓展名。

任何一种格式可以直接 [导入 (@import)](https://www.sass.hk/docs/#t7-1) 到另一种格式中使用，或者通过 `sass-convert` 命令行工具转换成另一种格式：

```bash
# Convert Sass to SCSS
$ sass-convert style.sass style.scss

# Convert SCSS to Sass
$ sass-convert style.scss style.sass
```

## Sass安装

#### 安装ruby环境

直接安装` WITH DEVKIT` 的`ruby`语言环境，安装时给自动配置全局变量打个 ✔️，当然`mac`系统下自带`ruby`环境。

>  https://rubyinstaller.org/downloads/

#### 安装sass

`ruby`下载包的命令是 `gem`，

```scss
$ gem install sass
```

检验是否安装成功

```scss
$ sass -v
```

在命令行中运行 Sass：

```scss
$ sass input.scss output.css
```

监视单个 Sass 文件，每次修改并保存时自动编译：

```scss
$ sass --watch input.scss:output.css
```

监视整个文件夹：

```scss
$ sass --watch app/sass:public/stylesheets
```

## 缓存 (Caching)

Sass 自动缓存编译后的模板与 [partials](http://sass-lang.com/documentation/file.SASS_REFERENCE.html#partials)，这样做能够显著提升重新编译的速度，尤其在处理由 `@import` 导入多个子文件的大型项目时。

单独使用 Sass，缓存内容保存在 `.sass-cache` 文件夹中。在 Rails 和 Merb 项目中缓存文件保存在 `tmp/sass-cache` 文件夹中（可通过 [`:cache_location`](https://www.sass.hk/docs/) 修改路径）。禁用缓存可将 `:cache` 设为 `false`。

## 编码格式 (Encodings)

与 CSS 相同，使用 `@charset` 可以声明特定的编码格式。在样式文件的起始位置（前面没有任何空白与注释）插入 `@charset "encoding-name"`， Sass 将会按照给出的编码格式编译文件。注意所使用的编码格式必须可转换为 Unicode 字符集。

Sass 以 UTF-8 编码输出 CSS 文件，当且仅当编译后的文件中包含非 ASCII 字符时，才会在输出文件中添加 `@charset` 声明，而在压缩模式下` (compressed mode) `使用 `UTF-8 byte order mark` 代替 `@charset` 声明语句。

## 注释 `/* */` 与 `//` (Comments: `/* */` and `//`)

Sass 支持标准的 CSS 多行注释 `/* */`，以及单行注释 `//`，前者会被完整输出到编译后的 CSS 文件中，后者则不会，例如：

```scss
/* This comment is
 * several lines long.
 * since it uses the CSS comment syntax,
 * it will appear in the CSS output. */
body { color: black; }

// These comments are only one line long each.
// They won't appear in the CSS output,
// since they use the single-line comment syntax.
a { color: green; }
```

编译为

```css
/* This comment is
 * several lines long.
 * since it uses the CSS comment syntax,
 * it will appear in the CSS output. */
body {
  color: black; }

a {
  color: green; }
```

将 `!` 作为多行注释的第一个字符表示在压缩输出模式下保留这条注释并输出到 CSS 文件中，通常用于添加版权信息。

插值语句 (interpolation) 也可写进多行注释中输出变量值：

```scss
$version: "1.2.3";
/* This CSS is generated by My Snazzy Framework version #{$version}. */
```

编译为

```css
/* This CSS is generated by My Snazzy Framework version 1.2.3. */
```
# typeğŸ¥ª

> typeæœ‰å¦‚ä¸‹å‡ ç§ç”¨æ³•ï¼š
>
> > - ç±»å‹å®šä¹‰
> >   - å®šä¹‰ç»“æ„ä½“
> >   - å®šä¹‰æ¥å£
> > - ç±»å‹åˆ«å
> > - ç±»å‹æŸ¥è¯¢



### ç±»å‹å®šä¹‰ğŸ¥©

ä½¿ç”¨ç±»å‹å®šä¹‰å®šä¹‰å‡ºæ¥çš„ç±»å‹ä¸åŸç±»å‹ä¸ç›¸åŒï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨æ–°ç±»å‹å˜é‡èµ‹å€¼ç»™åŸç±»å‹å˜é‡ï¼Œé™¤éä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚ä¸‹é¢æ¥çœ‹ä¸€æ®µç¤ºä¾‹ä»£ç ï¼Œæ ¹æ®stringç±»å‹ï¼Œå®šä¹‰ä¸€ç§æ–°çš„ç±»å‹ï¼Œæ–°ç±»å‹åç§°æ˜¯nameï¼š

```go
type name string
```

##### ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ç±»å‹å®šä¹‰å‘¢ï¼Ÿ

ç±»å‹å®šä¹‰å¯ä»¥åœ¨åŸç±»å‹çš„åŸºç¡€ä¸Šåˆ›é€ å‡ºæ–°çš„ç±»å‹ï¼Œæœ‰äº›åœºåˆä¸‹å¯ä»¥ä½¿ä»£ç æ›´åŠ ç®€æ´ï¼Œå¦‚ä¸‹è¾¹ç¤ºä¾‹ä»£ç ï¼š

```go
package main

import (
	"fmt"
)

// å®šä¹‰ä¸€ä¸ªæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹å‚æ•°çš„å‡½æ•°ç±»å‹
type handle func(str string)

// execå‡½æ•°ï¼Œæ¥æ”¶handleç±»å‹çš„å‚æ•°
func exec(f handle) {
	f("hello")
}

func main() {
	// å®šä¹‰ä¸€ä¸ªå‡½æ•°ç±»å‹å˜é‡ï¼Œè¿™ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„å‚æ•°
	var p = func(str string) {
		fmt.Println("first", str)
	}
	exec(p)

    // åŒ¿åå‡½æ•°ä½œä¸ºå‚æ•°ç›´æ¥ä¼ é€’ç»™execå‡½æ•°
    exec(func(str string) {
        fmt.Println("second", str)
    })
}
```

#### å®šä¹‰ç»“æ„ä½“ğŸ©

> å…¶å®å®šä¹‰ç»“æ„ä½“å’Œæ¥å£éƒ½å±äºå®šä¹‰ç±»å‹çš„èŒƒç•´ï¼Œå› ä¸ºç»“æ„ä½“å’Œæ¥å£ä¸€èˆ¬éƒ½éœ€è¦ä¸€ä¸ªé¢å¤–çš„ç±»å‹åä½œä¸ºå‡½æ•°å‚æ•°ç­‰ç­‰ã€‚

ç»“æ„ä½“æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„ä¸€ç§æŠ½è±¡çš„æ•°æ®ç»“æ„ï¼Œgolangä¸­structç±»ä¼¼äºjavaè¯­è¨€ä¸­çš„classï¼Œ åœ¨ç¨‹åºè®¾è®¡ä¸­ï¼Œæœ‰ç€ä¸¾è¶³è½»é‡çš„åœ°ä½ã€‚ç»“æ„ä½“çš„ç”¨æ³•ï¼Œå°†ä¼šåœ¨structå…³é”®å­—ä¸­è¯¦ç»†çš„ä»‹ç»ã€‚ä¸‹è¾¹æ¥çœ‹ä¸€ä¸‹å®šä¹‰ä¸€ä¸ªç»“æ„ä½“çš„è¯­æ³•æ ¼å¼ï¼š

```go
type name struct {
    Field1  dataType
    Field2  dataType
    Field3  dataType
}
```

#### å®šä¹‰æ¥å£ğŸ 

æ¥å£ç›¸å…³çŸ¥è¯†ç‚¹ï¼Œå°†ä¼šåœ¨interfaceå…³é”®å­—ä¸­è¯¦ç»†ä»‹ç»ï¼Œä¸‹è¾¹æ¥çœ‹ä¸€æ®µå®šä¹‰æ¥å£çš„è¯­æ³•æ ¼å¼ï¼š

```go
type name interface{
    Read()
    Write()
}
```



### ç±»å‹åˆ«åğŸ’Œ

å…ˆæ¥çœ‹ä¸€ä¸ªæœ€ç›´è§‚çš„ä¾‹å­ï¼Œruneæ˜¯goè¯­è¨€çš„å­—ç¬¦ç±»å‹ï¼Œé‚£ä¹ˆä»–çš„æœ¬è´¨æ˜¯æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

```go
func main() {
	var a rune = 'çˆ±'
	fmt.Printf("%T",a)
}
//int32
```

æ¥çœ‹çœ‹bultinçš„æºç ï¼ˆé˜‰å‰²ç‰ˆï¼‰

```go
package builtin

type string string

type int int

type byte = uint8

type rune = int32

type error interface {
	Error() string
}
```



<<<<<<< HEAD
### ç±»å‹æŸ¥è¯¢ğŸ˜±
=======
#### ç±»å‹åˆ«åğŸ’Œ

å…ˆæ¥çœ‹ä¸€ä¸ªæœ€ç›´è§‚çš„ä¾‹å­ï¼Œruneæ˜¯goè¯­è¨€çš„å­—ç¬¦ç±»å‹ï¼Œé‚£ä¹ˆä»–çš„æœ¬è´¨æ˜¯æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ

```go
func main() {
	var a rune = 'çˆ±'
	fmt.Printf("%T",a)
}
//int32
```

æ¥çœ‹çœ‹bultinçš„æºç ï¼ˆé˜‰å‰²ç‰ˆï¼‰

```go
package builtin

type string string

type int int

type byte = uint8

type rune = int32

type error interface {
	Error() string
}
```



#### ç±»å‹æŸ¥è¯¢ğŸ˜±
>>>>>>> github/master

> ç±»å‹æŸ¥è¯¢ï¼Œå°±æ˜¯æ ¹æ®å˜é‡ï¼ŒæŸ¥è¯¢è¿™ä¸ªå˜é‡çš„ç±»å‹ã€‚ä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·çš„éœ€æ±‚å‘¢ï¼Ÿ

goalngä¸­æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ç±»å‹interface{}ï¼Œè¿™ä¸ªç±»å‹å¯ä»¥è¢«ä»»ä½•ç±»å‹çš„å˜é‡èµ‹å€¼ï¼Œå¦‚æœæƒ³è¦çŸ¥é“åˆ°åº•æ˜¯å“ªä¸ªç±»å‹çš„å˜é‡èµ‹å€¼ç»™äº†interface{}ç±»å‹å˜é‡ï¼Œå°±éœ€è¦ä½¿ç”¨ç±»å‹æŸ¥è¯¢æ¥è§£å†³è¿™ä¸ªéœ€æ±‚ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```go
package main

import (
	"fmt"
)

func main() {
    // å®šä¹‰ä¸€ä¸ªinterface{}ç±»å‹å˜é‡ï¼Œå¹¶ä½¿ç”¨stringç±»å‹å€¼â€abcâ€œåˆå§‹åŒ–
    var a interface{} = "abc"
    
    // åœ¨switchä¸­ä½¿ç”¨ å˜é‡å.(type) æŸ¥è¯¢å˜é‡æ˜¯ç”±å“ªä¸ªç±»å‹æ•°æ®èµ‹å€¼ã€‚
    switch v := a.(type) {
    case string:
    	fmt.Println("å­—ç¬¦ä¸²")
    case int:
        fmt.Println("æ•´å‹")
    default:
    	fmt.Println("å…¶ä»–ç±»å‹", v)
    }
}
```
å¦‚æœä½¿ç”¨.(type)æŸ¥è¯¢ç±»å‹çš„å˜é‡ä¸æ˜¯interface{}ç±»å‹ï¼Œåˆ™åœ¨ç¼–è¯‘æ—¶ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š

```go
cannot type switch on non-interface value a (type string)
```

å¦‚æœåœ¨switchä»¥å¤–åœ°æ–¹ä½¿ç”¨.(type)ï¼Œåˆ™åœ¨ç¼–è¯‘æ—¶ä¼šæç¤ºå¦‚ä¸‹é”™è¯¯ï¼š

```go
use of .(type) outside type switch
```

æ‰€ä»¥ï¼Œä½¿ç”¨typeè¿›è¡Œç±»å‹æŸ¥è¯¢æ—¶ï¼Œåªèƒ½åœ¨switchä¸­ä½¿ç”¨ï¼Œä¸”ä½¿ç”¨ç±»å‹æŸ¥è¯¢çš„å˜é‡ç±»å‹å¿…é¡»æ˜¯interface{}

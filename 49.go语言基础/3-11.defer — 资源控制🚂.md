# defer â€” èµ„æºæ§åˆ¶ğŸš‚

> - Open/Close
> - Lock/Unlock
> - PrintHeader/PrintFooter

ä¿è¯ç¨‹åºèƒ½åœ¨returnåæ‰§è¡Œã€‚

```go
func tryDefer() {
	defer fmt.Println(1)
	defer fmt.Println(2)
	fmt.Println(3)
	return
	fmt.Println(4)
}
```

ç”¨äºæ§åˆ¶å†™å…¥å’Œæ–‡ä»¶çš„å…³é—­ã€‚

```go
func writeItBufio(filename string){
	f,_ := os.Create(filename)
	fmt.Printf("%T",f)
	defer f.Close()
	writer := bufio.NewWriter(f)
	defer writer.Flush()
	for i:=0;i<10;i++ {
		fmt.Fprintln(writer,i)
	}
}
```

deferåº•å±‚å®é™…æ˜¯ä¸€ä¸ªæ ˆç»“æ„ï¼Œå…ˆè¿›åå‡ºï¼ŒåŒæ—¶åœ¨å¾ªç¯ä¸­æœ‰å—çº§ä½œç”¨åŸŸã€‚

```go
func tryDefer2(){
	for i:=0;i<10;i++ {
		defer fmt.Println(i)
	}
}
9
8
7
6
5
4
3
2
1
0
```

